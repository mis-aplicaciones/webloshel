/* styleshome.css — sustituye tu CSS actual del prototipo */

/* Reset */
* { margin: 0; padding: 0; box-sizing: border-box; }

/* Fuente y layout base */
@font-face {
  font-family: "MyFont";
  src: url("fonts/Outfit-Regular.woff2") format("woff2"),
       url("fonts/Outfit-Regular.woff") format("woff");
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}
html,body { height:100%; width:100%; font-family: "MyFont", Arial, sans-serif; background:#121124; }

/* Background & detail area */
#background {
  position: absolute;
  top:0; left:0; width:100%; height:100%;
  background-size: cover;
  background-position: center;
  opacity:1;
  transition: opacity 0.25s ease, background-image 0s;
  z-index:1;
  /* Optimización de rendimiento para backgrounds */
  will-change: opacity, background-image;
  transform: translateZ(0);
  /* Mejorar la carga de imágenes de fondo */
  background-attachment: fixed;
  background-repeat: no-repeat;
  image-rendering: -webkit-optimize-contrast;
}
.background-gradient {
  position:absolute; top:0; left:0; width:100%; height:100%;
  background: linear-gradient(to right, #121124 30%, rgba(0,0,0,0.3));
  z-index:1;
}

#detail {
  position: absolute;
  top:0; left:5%;           /* <-- margen izquierdo pedido (5%) */
  width: 90%;              /* toma el resto */
  height:50vh;
  display:flex;
  flex-direction:column;
  align-items:flex-start;
  justify-content:center;
  padding-left: 2vw;
  color:#fff;
  opacity:1;
  transition: opacity 0.3s ease;
  z-index:2;
}
#detail.fade-out { opacity:0; }
#detail.fade-in { opacity:1; }

#detail img {
  width:33.8vh; height:19.1vh; object-fit:contain; margin-bottom:1vh;
  transition: opacity 0.3s ease;
}
#detail h2 { font-size:5.7vh; margin-bottom:1vh; }

/* meta: edad, duración, año, rating */
#detail .meta {
  margin-bottom:1vh;
  display:flex;
  align-items:center;
  font-size:2.2vh;
  gap:0.8vh;
}
#detail .meta span { padding:0.5vh 1vh; border-radius:2vh; color:#fff; white-space:nowrap; }
#detail .meta span:first-child { background: purple; font-weight:bold; }

/* genero badges */
#detail .genero { display:flex; gap:0.5vh; flex-wrap:wrap; }
#detail .genero span { padding:0.5vh 1vh; font-size:small; border:2px solid purple; border-radius:2.5vh; }

/* Carousel: margen izquierdo pedido (5%) y altura 40vh */
#carousel {
  position:absolute;
  bottom:0; left:5%;          /* <-- margen izquierdo pedido (5%) */
  width:95%;
  height:40vh;
  overflow-y:auto;
  overflow-x:hidden;
  scroll-snap-type: y mandatory;
  scroll-behavior: smooth;
  padding-bottom: 40vh;
  -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 75%, rgba(0,0,0,0) 95%);
  mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 75%, rgba(0,0,0,0) 95%);
  z-index:2;
  /* Optimización de scroll y rendimiento */
  -webkit-overflow-scrolling: touch;
  will-change: scroll-position;
  transform: translateZ(0);
  /* Mejorar el rendimiento del scroll */
  contain: layout style paint;
}

/* Scrollbar del carousel (vertical) — muy discreto/transparente */
#carousel::-webkit-scrollbar { width: 1vh; }
#carousel::-webkit-scrollbar-track { background: transparent; }
#carousel::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.02); border-radius:1vh; }
/* Firefox */
#carousel { scrollbar-width: thin; scrollbar-color: rgba(255,255,255,0.02) transparent; }

/* Row / title / container */
.row {
  scroll-snap-align: start;
  height: calc(3vh + 19.1vh + 4vh);
  padding: 2vh 0;
  display:flex;
  flex-direction:column;
  margin-bottom:1vh;
  position:relative;
  z-index:2;
}
.row-title {
  height:3vh; font-size:2.5vh; line-height:3vh; color:#fff;
  padding-left:2vw; text-align:left; z-index:3;
}

/* CARDS CONTAINER
   - overflow-x: auto para permitir desplazamiento horizontal sólo de esta fila
   - overflow-y: hidden evita scroll vertical adicional
   - hide scrollbars via vendor rules (Webkit, Firefox, IE) -> scroll funcional pero invisible
*/

/* CONTENEDOR DE FILAS: mantiene el scroll horizontal, oculta scrollbars */
.cards-container {
  display: flex;
  gap: 0;
  align-items: center;
  overflow-x: auto;      /* permite scroll horizontal por fila */
  overflow-y: hidden;    /* evita scroll vertical en la fila */
  -webkit-overflow-scrolling: touch;
  padding: 0 1vh;
}

/* Ocultar scrollbars en .cards-container (Webkit) */
.cards-container::-webkit-scrollbar { display: none; }
/* Firefox y IE/Edge */
.cards-container { scrollbar-width: none; -ms-overflow-style: none; }

/* Asegura que items no se rompan de línea y mantengan layout flex */
.cards-container .card { flex: 0 0 auto; }

/* Card */
.card {
  flex: 0 0 auto;
  width: 33.8vh;
  height: 19.1vh;
  background-size: cover;
  background-position: center;
  border-radius: 1vh;
  margin: 1vh;
  /* Optimización mejorada: usar will-change y transform3d para mejor rendimiento */
  transition: transform 0.15s ease, box-shadow 0.15s ease, outline 0.08s ease;
  transform: translateZ(0); /* Force GPU acceleration */
  will-change: transform, box-shadow, background-image;
  z-index: 3;
  outline: none;        /* quitamos outline nativo */
  box-sizing: border-box;
  /* Preload y optimización de imágenes */
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
  /* Mejorar la carga de imágenes de fondo */
  background-attachment: scroll;
  background-repeat: no-repeat;
}

/* Elimina el zoom: NO usar transform scale.
   En su lugar mostramos un marco blanco de 2px cuando está enfocado/hover.
   usamos outline para no romper el layout al mostrar borde. */
.card:focus,
.card:hover {
  transform: none !important;
  /* outline usa px fijo (2px) — si prefieres usar vh cambia a 0.2vh */
  outline: 2px solid #ffffff;
  outline-offset: -2px; /* hace que el borde quede pegado al card */
  box-shadow: 0 6px 18px rgba(0,0,0,0.45);
}

/* Evitar que el outline amarillo nativo de Android TV aparezca aparte */
*:focus { outline: none; }

/* Mantener scrollbar vertical del carousel principal transparente */
#carousel::-webkit-scrollbar-thumb { background: rgba(0,0,0,0); }


/* Opciones responsive mínimas */
@media (max-width: 800px) {
  #detail { left: 4%; width: 92%; }
  #carousel { left: 4%; width: 92%; }
}

/* helpers para fade classes (coinciden con tu JS) - Optimizado */
.fade-out { opacity: 0 !important; transition: opacity 0.25s ease; transform: translateZ(0); }
.fade-in  { opacity: 1 !important; transition: opacity 0.25s ease; transform: translateZ(0); }
